!function(){"use strict";document.createElement("div");const e=e=>document.body.contains(e)||document.head.contains(e),t=e=>[].slice.call(e),n=function(e,n){void 0===e&&(e="[data-observe]");let i=t(document.querySelectorAll(e));n&&("IntersectionObserver"in window?((e,t)=>{const n=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&e.isIntersecting?(t?.inRange?.(e.target,e),(t?.unObserve??1)&&n.unobserve(e.target)):t?.outRange?.(e.target,e)}))}),t?.options);e.forEach((function(e){n.observe(e)}))})(i,n):((e,t)=>{let n=!1;const i=()=>{!1===n&&(n=!0,setTimeout((()=>{e.forEach((n=>{(e=>e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==e.style.display)(n)?(t?.inRange?.(n),(t?.unObserve??1)&&0===(e=e.filter((e=>e!==n))).length&&(document.removeEventListener("scroll",i),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i))):t?.outRange?.(n)})),n=!1}),200))};document.addEventListener("scroll",i),window.addEventListener("resize",i),window.addEventListener("orientationchange",i),window.addEventListener("DOMContentLoaded",i)})(i,n))};class i{constructor(e){this.container=void 0,this.container=e.container,i.baseInitialize(e,this),i.observeContainer(e,this)}static baseInitialize(e,t){e.container&&(i.context.set(e.container,e),i.events.set(e.container,[]),e.watch((()=>{i.push(e,"rotation")})))}static push(e,t){if(!e.container)return;const n=i.events.get(e.container);n&&n.filter((e=>e.name===t)).forEach((t=>t.handler(e.currentIndex(),e.prevIndex(),e.nextIndex())))}on(e,t){if(!this.container)return;const n=i.events.get(this.container);n&&n.push({name:e,handler:t})}off(e,t){if(!this.container)return;const n=i.events.get(this.container);if(!n)return;const r=n.find((n=>n.name===e&&n.handler===t));if(!r)return;const s=n.indexOf(r);n.splice(s,1)}static getContext(e){return this.context.get(e)}static updateAttributes(e,t){if(!e.container)return;const n=e.container.getAttribute("data-carousel-config");if(n)try{t.processAttributes(JSON.parse(n),e)}catch(e){console.warn(e)}}setAttributes(e){const t=this.container;try{t.dataset.carouselConfig=JSON.stringify(e)}catch(e){console.warn(e)}}processAttributes(e,t){e.auto&&t.setAuto(e.auto),e.delay&&t.setDelay(e.delay)}static observeContainer(e,t){e.container&&(this.updateAttributes(e,t),new MutationObserver((n=>{i.updateAttributes(e,t)})).observe(e.container,{attributes:!0}))}goto(e){if(!this.container)return;const t=i.getContext(this.container);t&&t.goto(e)}play(e){if(!this.container)return;const t=i.getContext(this.container);t&&t.play(e)}pause(){if(!this.container)return;const e=i.getContext(this.container);e&&e.pause()}next(){if(!this.container)return;const e=i.getContext(this.container);e&&e.next()}prev(){if(!this.container)return;const e=i.getContext(this.container);e&&e.prev()}autoplay(){if(!this.container)return;const e=this,t=i.getContext(this.container);if(!t)return;const r=t.parent?.id;let s=!1;n(`#${r}`,{inRange:t=>{s||(s=!0,e.play(!0))},outRange:t=>{s&&(s=!1,e.pause())},unObserve:!1,options:{threshold:[.75]}})}enablePrevNextControls(){if(!this.container)return;const e=i.getContext(this.container);if(!e)return;const t=e.container?.querySelector(".slide__prev"),n=e.container?.querySelector(".slide__next");t?.addEventListener("click",this.prev.bind(e)),n?.addEventListener("click",this.next.bind(e))}enablePlayPauseControls(){if(!this.container)return;const e=i.getContext(this.container);if(!e)return;const t=e.container?.querySelector(".slide__play"),n=e.container?.querySelector(".slide__pause");t?.addEventListener("click",(e=>this.play())),n?.addEventListener("click",this.pause.bind(e))}static updateThumbnailNavigationMarker(e,t){const n=t.find((e=>e.classList.contains(i.currentThumbnailCSSClassName)));n&&n.classList.remove(i.currentThumbnailCSSClassName),e&&e.classList.add(i.currentThumbnailCSSClassName)}static updateThumbnailNavigation(e,t){const n=parseInt(e.getAttribute("data-slide-index")??"");t.goto(n)}static updateThumbnailNavigationMarkerByIndex(e,t){if(t.container&&i.thumbnails.has(t.container)){const n=i.thumbnails.get(t.container),r=n?.find((t=>parseInt(t.getAttribute("data-slide-index")??"")===e));if(!r||!n)return;i.updateThumbnailNavigationMarker(r,n)}}enableThumbnailControls(e){if(!this.container)return;const n=t(this.container.querySelectorAll(".slide__thumbnail"));i.thumbnails.set(this.container,n),n.forEach((t=>{t.addEventListener("click",(t=>{const r=t.target;i.updateThumbnailNavigation(r,this),i.updateThumbnailNavigationMarker(r,n),"function"==typeof e&&e(t)}))}));const r=i.getContext(this.container);r&&this.on("rotation",(e=>{void 0!==e&&i.updateThumbnailNavigationMarkerByIndex(e,r)}))}}i.currentThumbnailCSSClassName="slide__thumbnail--is-selected",i.context=new WeakMap,i.events=new WeakMap,i.controls=new WeakMap,i.thumbnails=new WeakMap;class r extends i{constructor(e){super(e),r.initialize(e)}static initialize(e){void 0!==e.children&&(e.initialize(),r.createWatch(e),r.setSlideToCurrent(e.children.item(0)))}static createWatch(e){let t=1;const n=e.countChildren();e.watch((i=>{void 0!==e.parent&&void 0!==e.children&&void 0!==n&&(r.push(e,"rotation"),t>n&&r.updateCurrentSlide(e.parent,e.children.item(i)),t===n&&(e.setIndex(0),r.updateThumbnailNavigationMarkerByIndex(0,e)),t<=n&&t++)}))}static updateCurrentSlide(t,n){const i=t.querySelector(`.${this.currentSlideCSSClassName}`);e(i)&&i?.classList.remove(this.currentSlideCSSClassName),this.setSlideToCurrent(n)}static setSlideToCurrent(e){e?.classList.add(this.currentSlideCSSClassName)}}r.currentSlideCSSClassName="slide__item--current";const s=function(e,t){return Object.defineProperties(t||{},e)},a=function(e){return Array.from(e)},o=s({defaults:{value:s({delay:{value:3e3},noScroll:{value:"slide__into--no-scroll"},error:{value:"The passed error code could not be found."}})},docs:{value:s({error:{value:"https://github.com/jamiedraws/Slide/wiki/Slide.js#api-errors"}})},errors:{value:s({"ERR-E":{value:"The passed 'element' must be an element."},"ERR-P":{value:"The passed 'element' could not be found."},"ERR-N":{value:"The passed 'element' is not a node element."},"ERR-X":{value:"The passed 'index' is not a number."},"ERR-M":{value:"The passed error 'code' or 'message' is not a string."},"ERR-C":{value:"The passed error 'code' is not a string."}})},team:{value:[]},request:{value:function(e){return this.team[e]}},observer:{value:function(e,t,n){if(window.hasOwnProperty("IntersectionObserver")){const i=new IntersectionObserver((function(e){e.forEach((function(e){if(e.intersectionRatio>0&&e.isIntersecting){const i=a(t).indexOf(e.target);n(i)}}))}),{root:e,rootMargin:"0px",threshold:.9});return function(e){a(e).forEach((function(e){i.observe(e)}))}}return function(){const e=o.defaults.noScroll;this.shim=!0,this.parent.classList.add(e)}}},manager:{value:s({config:{value:function(e){const t=this;"object"==typeof e&&Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{enumerable:!0,value:e[n]})}))}},create:{value:function(e,t,n,i){const r=Object.create(e);return Object.defineProperties(r,{name:{set:function(e){this.parent=e},get:function(){return this.parent.id}},id:{value:t}}),r.name=n,this.config.call(r,i),r}},assign:{value:function(){const e=Object.create(this);return e.index=0,e.shim=!1,e.auto=!1,e.handleRotation=!0,e.timer=0,e.delay=o.defaults.delay,e.scrollIntoViewOptions={block:"nearest",inline:"start"},e}},observer:{value:function(e,t){const n=this;return o.observer(e,t,(function(e){n.setIndex(e),n.setCallback()}))}},getIndex:{value:function(e){let t=this.index;const n=this.children.length;return"number"==typeof e&&(t=e),t===n?t=0:t<0&&(t=n-1),t}},setIndex:{value:function(e){this.index=this.getIndex(e)}},setRotation:{value:function(){this.children[this.index].scrollIntoView(this.scrollIntoViewOptions)}},isValidNumber:{value:function(e){return"number"==typeof e&&!isNaN(e)}},setDelay:{value:function(e){let t=parseInt(e);(!this.isValidNumber(t)||t<o.defaults.delay)&&(t=this.delay),this.delay=t}},setCallback:{value:function(){"function"==typeof this.handleCallback&&this.handleCallback(this.index,this.getIndex(this.index-1),this.getIndex(this.index+1))}},setTimer:{value:function(e){this.auto?this.timer=setTimeout(e,this.delay):clearTimeout(this.timer)}},routeCallback:{value:function(e){this.shim&&this.setCallback(e),e()}},setTask:{value:function(e){const t=this;t.setDelay(),t.setIndex(e),this.handleRotation&&t.setRotation(),t.routeCallback((function(){t.setTimer((function(){t.setTask(t.index+1)}))}))}}})},api:{value:s({parent:{set:function(e){this.validateNodeElement(e);const t=o.request(this.id);t.id=this.id,t.parent=e,t.observe=t.observer(t.parent,e.children),this.children=e.children},get:function(){return o.request(this.id).parent}},validateNodeElement:{value:function(e){return"object"!=typeof e&&this.getError("ERR-E"),null===e&&this.getError("ERR-P"),1!==e.nodeType&&this.getError("ERR-N"),!0}},toArray:{value:a},children:{set:function(){const e=o.request(this.id);e.children=e.parent.children,e.observe(e.children)},get:function(){return o.request(this.id).children}},isAuto:{value:function(){return o.request(this.id).auto}},setAuto:{value:function(e){const t=o.request(this.id);"boolean"==typeof e&&(t.auto=e)}},setScrollIntoView:{value:function(e){const t=o.request(this.id);"object"!=typeof e&&"boolean"!=typeof e||(t.scrollIntoViewOptions=e)}},watch:{value:function(e){const t=o.request(this.id);t.handleCallback=e.bind(this),"IntersectionObserver"in window||t.setCallback()}},countChildren:{value:function(){return this.children.length}},getDelay:{value:function(){return o.request(this.id).delay}},setDelay:{value:function(e){o.request(this.id).setDelay(e)}},setError:{value:function(e,t){"string"==typeof e&&"string"==typeof t?Object.defineProperty(o.errors,e,{value:t}):this.getError("ERR-M")}},getError:{value:function(e){throw"string"!=typeof e&&(e="ERR-C"),e+": "+(o.errors[e]||o.defaults.error)+" / "+o.docs.error}},hasError:{value:function(e){return o.errors.hasOwnProperty(e)}},config:{value:function(e){o.request(this.id).config.call(this,e)}},setShim:{enumerable:!0,value:function(e){const t=o.request(this.id);"boolean"==typeof e&&(t.shim=e)}},play:{enumerable:!0,value:function(e){const t=o.request(this.id),n="boolean"==typeof e&&e?t.index:t.index+1;this.pause(),t.auto=!0,t.setTask(n)}},pause:{enumerable:!0,value:function(){const e=o.request(this.id);e.auto=!1,clearTimeout(e.timer)}},prev:{enumerable:!0,value:function(){const e=o.request(this.id);this.pause(),e.setTask(e.index-1)}},next:{enumerable:!0,value:function(){const e=o.request(this.id);this.pause(),e.setTask(e.index+1)}},prevIndex:{value:function(){const e=o.request(this.id);return e.getIndex(e.index-1)}},nextIndex:{value:function(){const e=o.request(this.id);return e.getIndex(e.index+1)}},currentIndex:{value:function(){return o.request(this.id).index}},getIndex:{value:function(e){return"number"!=typeof e&&this.getError("ERR-X"),o.request(this.id).getIndex(e)}},setIndex:{value:function(e){return"number"!=typeof e&&this.getError("ERR-X"),o.request(this.id).setIndex(e)}},handleRotation:{value:function(e){const t=o.request(this.id);"boolean"==typeof e&&(t.handleRotation=e)}},goto:{enumerable:!0,value:function(e){"number"!=typeof e&&this.getError("ERR-X");const t=o.request(this.id);this.pause(),t.setIndex(e),t.setTask()}}})},interface:{value:s({into:{value:function(e,t,n){const i=o.manager.assign();let r=n,s={};o.team.push(i),"function"==typeof t&&(r=t),"object"==typeof t?s=t:"object"==typeof n&&(s=n);const a=o.manager.create(o.api,o.team.length-1,e,s);return r.call(a,a)}},proto:{value:function(e){"object"==typeof e&&(Object.create(o.api,e),Object.keys(e).forEach((function(t){Object.defineProperty(o.api,t,{writable:!1,configurable:!1,enumerable:!0,value:e[t]})})))}}})}});var c=o.interface;class u{constructor(e){this.api=void 0,this.container=void 0,this.parent=void 0,this.children=void 0,this.container=e,this.api=this.create(e),this.parent=this.api?.parent,this.children=this.api?.children}create(t){let n;if(e(t)){const i=t.querySelector('[id][class*="slide__into"]');e(i)?n=c.into(i,{root:t},(e=>(e.root?.classList.add("slide--is-ready"),e))):console.error({message:"An element requires the class name 'slide__into' and requires an id attribute. No element was found from the container element context.",element:t})}return n}isAuto(){return this.api?.isAuto()??!1}setAuto(e){this.api?.setAuto(e)}play(e){this.api?.play(e)}pause(){this.api?.pause()}prev(){this.api?.prev()}next(){this.api?.next()}goto(e){this.api?.goto(e)}watch(e){this.api?.watch(e)}nextIndex(){return this.api?.nextIndex()}currentIndex(){return this.api?.currentIndex()}prevIndex(){return this.api?.prevIndex()}countChildren(){return this.api?.countChildren()}getDelay(){return this.api?.getDelay()}setDelay(e){return this.api?.setDelay(e)}getIndex(e){return this.api?.getIndex(e)}setIndex(e){this.api?.setIndex(e)}}class l extends u{constructor(e){super(e)}initialize(){this.api?.setShim(!0),this.api?.handleRotation(!1)}}n(".slide--fade",{inRange:function(e){new r(new l(e)).enablePrevNextControls()}})}();
//# sourceMappingURL=app.es5.js.map